/* ===========================
   ORBITOA â€” Teams-like Theme
   =========================== */

/* THEME TOKENS */
:root{
  --bg:#0c111a;
  --panel:#111827;
  --panel-2:#0f172a;
  --text:#e5e7eb;
  --muted:#94a3b8;
  --outline:#1f2937;
  --accent:#5b8cff;     /* primary */
  --accent-2:#7c6cff;   /* secondary */
  --accent-3:#22d3ee;   /* highlight */
  --focus: 0 0 0 3px rgba(91,140,255,.35);
  --ring: 0 10px 30px rgba(37, 99, 235, .18);
  --shadow: 0 8px 22px rgba(0,0,0,.35);
}

:root.light{
  --bg:#f6f8fc;
  --panel:#ffffff;
  --panel-2:#f3f6fb;
  --text:#0b1220;
  --muted:#536278;
  --outline:#d8e0eb;
  --accent:#3b82f6;
  --accent-2:#6b5cff;
  --accent-3:#06b6d4;
  --focus: 0 0 0 3px rgba(59,130,246,.35);
  --ring: 0 10px 30px rgba(59,130,246,.18);
  --shadow: 0 10px 24px rgba(0,0,0,.10);
}

/* BASE */
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0; font-family: "Segoe UI", system-ui, -apple-system, Roboto, Arial, sans-serif; background:var(--bg); color:var(--text);}

/* SUBTLE BACKGROUND GLOW */
body.teams::before{
  content:"";
  position:fixed; inset:-20%;
  background:
    radial-gradient(900px 600px at 12% 10%, rgba(124,108,255,.20), transparent 60%),
    radial-gradient(800px 520px at 85% 0%, rgba(59,130,246,.18), transparent 60%),
    radial-gradient(700px 540px at 50% 100%, rgba(34,211,238,.12), transparent 60%);
  filter: blur(22px);
  z-index:-2;
}

/* LAYOUT: TEAMS SHELL */
.shell-teams{display:grid; grid-template-columns:68px 1fr; min-height:100vh}

/* LEFT RAIL */
.rail{
  position:sticky; top:0; height:100vh;
  background:linear-gradient(180deg, var(--panel-2), rgba(15,23,42,.95));
  border-right:1px solid var(--outline);
  display:flex; flex-direction:column; align-items:center; justify-content:space-between;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.02);
}
.rail-top{display:flex; flex-direction:column; gap:10px; align-items:center; padding-top:12px}
.rail-logo{
  width:42px; height:42px; display:flex; align-items:center; justify-content:center;
  border-radius:12px; color:#fff; font-weight:700;
  background: conic-gradient(from 210deg, var(--accent), var(--accent-2), var(--accent));
  box-shadow: var(--ring);
}
.rail-btn{
  width:46px; height:46px; border-radius:12px;
  background:transparent; border:1px solid transparent; color:var(--text);
  cursor:pointer; font-size:20px; display:grid; place-items:center;
  transition: transform .12s ease, background .15s, border-color .15s;
}
.rail-btn:hover{background:rgba(255,255,255,.06); transform: translateY(-1px);}
.rail-btn.active{background:linear-gradient(180deg, rgba(91,140,255,.22), rgba(91,140,255,.12)); border-color:rgba(91,140,255,.35); box-shadow: var(--ring);}
.rail-bottom{display:flex; flex-direction:column; gap:10px; padding-bottom:12px}

/* MAIN COLUMN */
.main{display:flex; flex-direction:column}

/* TOPBAR (TEAMS-LIKE) */
.topbar-teams{
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 20px; border-bottom:1px solid var(--outline); background:linear-gradient(180deg, var(--panel), rgba(17,24,39,.96));
  position:sticky; top:0; z-index:10; backdrop-filter: blur(6px);
}
.topbar-teams h1{margin:0; font-size:18px; letter-spacing:.2px}
.muted{color:var(--muted)} .small{font-size:12px}

/* TABS */
.tabs{display:flex; gap:8px; padding:10px 16px; background:var(--panel); border-bottom:1px solid var(--outline)}
.tab{
  padding:8px 14px; border-radius:10px; border:1px solid var(--outline);
  background:linear-gradient(180deg, var(--panel-2), rgba(255,255,255,.02));
  color:var(--text); cursor:pointer; font-weight:600;
  transition: box-shadow .15s ease, transform .1s ease, border-color .15s;
}
.tab:hover{transform:translateY(-1px)}
.tab.active{border-color:rgba(91,140,255,.45); box-shadow: var(--focus);}

/* CONTENT */
.content{padding:18px; display:grid; grid-template-columns:1fr; gap:18px}

/* CARDS */
.card{
  background: linear-gradient(180deg, var(--panel), rgba(255,255,255,.02));
  border:1px solid var(--outline); border-radius:14px; overflow:hidden; box-shadow: var(--shadow);
}

/* CHAT AREA */
.chat-wrap{display:flex; flex-direction:column; min-height:560px}
.chat{
  padding:16px; height:380px; overflow:auto; display:flex; flex-direction:column; gap:12px;
  background:linear-gradient(180deg, var(--panel-2), rgba(255,255,255,.02));
  border-bottom:1px solid var(--outline);
}
.msg{display:flex; gap:10px; align-items:flex-start; animation: fadeIn .18s ease}
@keyframes fadeIn{from{opacity:0; transform:translateY(4px)} to{opacity:1; transform:none}}

.avatar{
  width:36px; height:36px; border-radius:10px; display:flex; align-items:center; justify-content:center;
  background:linear-gradient(135deg, rgba(255,255,255,.10), rgba(255,255,255,.04));
  border:1px solid var(--outline);
}
.msg.user .avatar{background:linear-gradient(135deg, rgba(255,255,255,.12), rgba(255,255,255,.06))}
.bubble{
  background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  border:1px solid var(--outline); border-radius:12px; padding:10px 12px; max-width:880px;
}
.name{font-weight:700; font-size:12px; opacity:.85; margin-bottom:4px; letter-spacing:.2px}
.sources{margin-top:8px; display:flex; flex-wrap:wrap; gap:6px}
.msg.bot .bubble{outline: 1px solid rgba(91,140,255,.25)}

/* COMPOSER */
.composer{padding:12px; display:flex; flex-direction:column; gap:10px; background:linear-gradient(180deg, var(--panel), rgba(255,255,255,.02))}
.quick{display:flex; flex-wrap:wrap; gap:8px}
.compose-row{display:flex; gap:8px}
.input{
  flex:1; padding:12px 14px; border-radius:12px; border:1px solid var(--outline);
  background:linear-gradient(180deg, var(--panel-2), rgba(255,255,255,.01)); color:var(--text);
  resize:none; min-height:44px; transition: box-shadow .15s ease, border-color .15s;
}
.input:focus{outline:none; box-shadow: var(--focus); border-color: transparent;}

/* BUTTONS & CHIPS */
.btn{
  padding:10px 14px; border-radius:12px; border:1px solid var(--outline);
  background:linear-gradient(180deg, var(--panel-2), rgba(255,255,255,.02)); color:var(--text);
  cursor:pointer; font-weight:700; letter-spacing:.2px; transition: transform .08s ease, filter .12s ease, box-shadow .15s ease;
}
.btn:hover{filter:brightness(1.05); transform:translateY(-1px)}
.btn:active{transform:translateY(0)}
.btn.primary{
  border:0; color:#fff;
  background:linear-gradient(135deg, var(--accent), var(--accent-2));
  box-shadow: var(--ring);
}
.btn.outline{background:transparent}

.chip{
  font-size:12px; padding:7px 12px; border-radius:999px;
  background:linear-gradient(180deg, rgba(91,140,255,.20), rgba(91,140,255,.12));
  border:1px solid rgba(91,140,255,.35); color:#eaf1ff; cursor:pointer; font-weight:600;
  transition: transform .08s ease, filter .12s ease, box-shadow .15s ease;
}
.chip:hover{filter:brightness(1.06); transform:translateY(-1px)}
.chip.src{
  background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
  border:1px solid var(--outline); color:var(--text);
}

/* QUICK ASK */
.ask-card{padding:18px}
.field{display:flex; flex-direction:column; gap:6px; margin:12px 0}
.field span{font-weight:700}
.actions-row{display:flex; gap:10px; margin:10px 0}
.result{margin-top:14px; background:var(--panel-2); border:1px solid var(--outline); border-radius:12px; padding:12px; box-shadow: var(--shadow)}
.result pre{white-space:pre-wrap; font-family:Consolas, ui-monospace, monospace}

/* THINKING DOTS */
.thinking .bubble{position:relative}
.dots{display:inline-flex; gap:6px; align-items:center}
.dots span{width:6px; height:6px; background:var(--muted); border-radius:50%; display:inline-block; animation:blink 1.2s infinite}
.dots span:nth-child(2){animation-delay:.2s}
.dots span:nth-child(3){animation-delay:.4s}
@keyframes blink{0%,80%,100%{opacity:.2}40%{opacity:1}}

/* TOAST */
.toast{
  position:fixed; left:50%; transform:translateX(-50%); bottom:18px;
  background:#111927; color:#fff; padding:10px 14px; border-radius:12px; border:1px solid var(--outline);
  box-shadow: var(--shadow); z-index:1000;
}

/* RESPONSIVE */
@media (max-width: 980px){
  .shell-teams{grid-template-columns:56px 1fr}
  .content{padding:12px}
  .chat{height:340px}
}

@media (max-width: 720px){
  .tabs{gap:6px}
  .tab{padding:8px 10px}
  .compose-row{flex-direction:column}
}
